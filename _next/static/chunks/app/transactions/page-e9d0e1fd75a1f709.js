(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[790],{2150:(e,a,t)=>{Promise.resolve().then(t.bind(t,8256))},7523:(e,a,t)=>{"use strict";t.d(a,{J1:()=>c,h_:()=>s,iD:()=>n,zu:()=>r});let s=(e,a,t,s)=>{if(localStorage.setItem("accessToken",e),localStorage.setItem("refreshToken",a),localStorage.setItem("userId",t),s)s.email&&localStorage.setItem("userEmail",s.email),s.full_name&&localStorage.setItem("userFullName",s.full_name),s.expires_in&&localStorage.setItem("expiresIn",s.expires_in.toString()),s.token_type&&localStorage.setItem("tokenType",s.token_type);else{let a=function(e){try{return JSON.parse(atob(e.split(".")[1]))}catch(e){return null}}(e);a&&a.sub&&localStorage.setItem("userId",a.sub)}},n=()=>localStorage.getItem("accessToken"),l=()=>localStorage.getItem("refreshToken"),r=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")},c=async()=>{let e=l();if(!e)return null;try{let a=await fetch("".concat("https://travis-2d4m.onrender.com/api/v1","/api/v1/auth/refresh"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:e})});if(!a.ok)return r(),null;{let t=await a.json();return s(t.access_token,t.refresh_token||e,JSON.stringify({user_id:t.user_id,email:t.email,full_name:t.full_name,expires_in:t.expires_in,token_type:t.token_type})),t.access_token}}catch(e){return console.error("Error refreshing token:",e),r(),null}}},8256:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i});var s=t(6001),n=t(9973),l=t(7523),r=t(2052),c=t(4972);function i(){var e,a;let[t,c]=(0,n.useState)([]),[i,o]=(0,n.useState)([]),[d,m]=(0,n.useState)(!0),[h,u]=(0,n.useState)(""),[x,b]=(0,n.useState)(!1),[j,g]=(0,n.useState)({account_id:"",amount:"",transaction_type:"debit",description:"",original_description:"",date:"",category:"",subcategory:"",tags:"",merchant_name:"",merchant_category:"",notes:"",tax_relevant:!1}),[p,y]=(0,n.useState)(!1),[N,v]=(0,n.useState)(""),[f,_]=(0,n.useState)(""),[k,S]=(0,n.useState)(!1),[C,w]=(0,n.useState)(!1),[D,T]=(0,n.useState)(""),[A,F]=(0,n.useState)(null),[I,E]=(0,n.useState)("debit"),[P,B]=(0,n.useState)(""),[q,z]=(0,n.useState)(""),[O,L]=(0,n.useState)(!1),[J,U]=(0,n.useState)(""),[R,M]=(0,n.useState)([]),[V,W]=(0,n.useState)(!1),[$,G]=(0,n.useState)(!1),[H,K]=(0,n.useState)(""),[Q,X]=(0,n.useState)(null),[Y,Z]=(0,n.useState)(!1),[ee,ea]=(0,n.useState)(null),[et,es]=(0,n.useState)(!1),[en,el]=(0,n.useState)(""),[er,ec]=(0,n.useState)(!1),[ei,eo]=(0,n.useState)({category:"",subcategory:""}),[ed,em]=(0,n.useState)(!1),[eh,eu]=(0,n.useState)(""),[ex,eb]=(0,n.useState)(!1),[ej,eg]=(0,n.useState)(null),[ep,ey]=(0,n.useState)(!1),[eN,ev]=(0,n.useState)("");(0,n.useEffect)(()=>{(async()=>{m(!0),u("");try{let e=(0,l.iD)();if(!e){u("Not authenticated"),m(!1);return}let a=await fetch("".concat("https://travis-2d4m.onrender.com/api/v1","/transactions"),{headers:{Authorization:"Bearer ".concat(e)}});if(!a.ok){let e=await a.json();u(e.message||"Failed to fetch transactions"),m(!1);return}let t=await a.json();c(t);let s=await fetch("".concat("https://travis-2d4m.onrender.com/api/v1","/accounts"),{headers:{Authorization:"Bearer ".concat(e)}});if(s.ok){let e=await s.json();o(e)}}catch(e){u("Failed to connect to the server")}m(!1)})()},[]);let ef=e=>{let{name:a,value:t,type:s}=e.target,n="checkbox"===s&&"checked"in e.target?e.target.checked:t;g(e=>({...e,[a]:n}))},e_=async e=>{e.preventDefault(),v(""),_(""),y(!0);try{let e=(0,l.iD)(),a=localStorage.getItem("userId");if(!e||!a){v("Not authenticated"),y(!1);return}if(!j.account_id||!j.amount||!j.transaction_type||!j.description||!j.date||!j.category){v("Please fill all required fields."),y(!1);return}let t={user_id:a,account_id:j.account_id,amount:Number(j.amount),transaction_type:j.transaction_type,description:j.description,original_description:j.original_description,date:j.date,category:j.category,subcategory:j.subcategory,tags:j.tags?j.tags.split(",").map(e=>e.trim()):[],merchant:{name:j.merchant_name,category:j.merchant_category},notes:j.notes,tax_relevant:j.tax_relevant},s=await fetch("".concat("https://travis-2d4m.onrender.com/api/v1","/transactions"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}),n=await s.json();if(!s.ok){v(n.message||"Failed to add transaction"),y(!1);return}_("Transaction added successfully!"),b(!1),g({account_id:"",amount:"",transaction_type:"debit",description:"",original_description:"",date:"",category:"",subcategory:"",tags:"",merchant_name:"",merchant_category:"",notes:"",tax_relevant:!1}),c(e=>[n,...e])}catch(e){v("Failed to connect to the server")}y(!1)},ek=async e=>{S(!0),w(!0),T(""),F(null);try{let a=(0,l.iD)();if(!a){T("Not authenticated"),w(!1);return}let t=await fetch("".concat("https://travis-2d4m.onrender.com/api/v1","/transactions/").concat(e),{headers:{Authorization:"Bearer ".concat(a)}}),s=await t.json();if(!t.ok){T(s.message||"Failed to fetch transaction details"),w(!1);return}F(s)}catch(e){T("Failed to connect to the server")}w(!1)},eS=async()=>{L(!0),U(""),M([]);try{let e=(0,l.iD)();if(!e){U("Not authenticated"),L(!1);return}let a=new URLSearchParams({transaction_type:I,...P&&{start_date:P},...q&&{end_date:q}}).toString(),t=await fetch("".concat("https://travis-2d4m.onrender.com/api/v1","/transactions/categories?").concat(a),{headers:{Authorization:"Bearer ".concat(e)}}),s=await t.json();if(!t.ok){U(s.message||"Failed to fetch categories"),L(!1);return}M(Array.isArray(s)?s:[])}catch(e){U("Failed to connect to the server")}L(!1)},eC=async()=>{G(!0),K(""),X(null);try{let e=(0,l.iD)();if(!e){K("Not authenticated"),G(!1);return}let a=await fetch("".concat("https://travis-2d4m.onrender.com/api/v1","/transactions/insights"),{headers:{Authorization:"Bearer ".concat(e)}}),t=await a.json();if(!a.ok){K(t.message||"Failed to fetch insights"),G(!1);return}X(t),W(!0)}catch(e){K("Failed to connect to the server")}G(!1)},ew=e=>{ea({id:e.id,transaction_id:e.transaction_id,description:e.description,amount:e.amount,tags:Array.isArray(e.tags)?e.tags.join(", "):"",notes:e.notes||"",is_recurring:e.is_recurring||!1}),el(""),Z(!0)},eD=async e=>{e.preventDefault(),es(!0),el("");try{let e=(0,l.iD)();if(!e){el("Not authenticated"),es(!1);return}let a={description:ee.description,amount:Number(ee.amount),tags:ee.tags?ee.tags.split(",").map(e=>e.trim()):[],notes:ee.notes,is_recurring:ee.is_recurring},t=await fetch("".concat("https://travis-2d4m.onrender.com/api/v1","/transactions/").concat(ee.transaction_id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(a)}),s=await t.json();if(!t.ok){el(s.message||"Failed to update transaction"),es(!1);return}c(e=>e.map(e=>e.transaction_id===ee.transaction_id?{...e,...s}:e)),Z(!1)}catch(e){el("Failed to connect to the server")}es(!1)},eT=e=>{eo({category:e.category||"",subcategory:e.subcategory||""}),ea({transaction_id:e.transaction_id}),eu(""),ec(!0)},eA=async e=>{e.preventDefault(),em(!0),eu("");try{let e=(0,l.iD)();if(!e){eu("Not authenticated"),em(!1);return}let a=new URLSearchParams({category:ei.category,subcategory:ei.subcategory}).toString(),t=await fetch("".concat("https://travis-2d4m.onrender.com/api/v1","/transactions/").concat(ee.transaction_id,"/category?").concat(a),{method:"PUT",headers:{Authorization:"Bearer ".concat(e)}}),s=await t.json();if(!t.ok){eu(s.message||"Failed to update category"),em(!1);return}c(e=>e.map(e=>e.transaction_id===ee.transaction_id?{...e,...s}:e)),ec(!1)}catch(e){eu("Failed to connect to the server")}em(!1)},eF=e=>{eg(e.transaction_id),ev(""),eb(!0)},eI=async()=>{ey(!0),ev("");try{let e=(0,l.iD)();if(!e||!ej){ev("Not authenticated"),ey(!1);return}let a=await fetch("".concat("https://travis-2d4m.onrender.com/api/v1","/transactions/").concat(ej),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)}});if(!a.ok){let e=await a.json();ev(e.message||"Failed to delete transaction"),ey(!1);return}c(e=>e.filter(e=>e.transaction_id!==ej)),eb(!1)}catch(e){ev("Failed to connect to the server")}ey(!1)};return(0,s.jsxs)("div",{className:"container mt-4",children:[(0,s.jsx)("div",{className:"card mb-4",children:(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsxs)("div",{className:"row g-2 align-items-end",children:[(0,s.jsxs)("div",{className:"col-md-2",children:[(0,s.jsx)("label",{className:"form-label",children:"Type"}),(0,s.jsxs)("select",{className:"form-select",value:I,onChange:e=>E(e.target.value),children:[(0,s.jsx)("option",{value:"debit",children:"Debit"}),(0,s.jsx)("option",{value:"credit",children:"Credit"})]})]}),(0,s.jsxs)("div",{className:"col-md-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Start Date"}),(0,s.jsx)("input",{type:"datetime-local",className:"form-control",value:P,onChange:e=>B(e.target.value)})]}),(0,s.jsxs)("div",{className:"col-md-3",children:[(0,s.jsx)("label",{className:"form-label",children:"End Date"}),(0,s.jsx)("input",{type:"datetime-local",className:"form-control",value:q,onChange:e=>z(e.target.value)})]}),(0,s.jsx)("div",{className:"col-md-2",children:(0,s.jsx)("button",{className:"btn btn-outline-primary w-100",onClick:eS,disabled:O,children:O?"Fetching...":"Fetch Categories"})})]}),J&&(0,s.jsx)("div",{className:"alert alert-danger mt-2",children:J}),R.length>0&&(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("strong",{children:"Categories:"}),(0,s.jsx)("div",{className:"table-responsive",children:(0,s.jsxs)("table",{className:"table table-bordered table-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Category"}),(0,s.jsx)("th",{children:"Total Amount"}),(0,s.jsx)("th",{children:"Transaction Count"}),(0,s.jsx)("th",{children:"Percentage"})]})}),(0,s.jsx)("tbody",{children:R.map((e,a)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.category}),(0,s.jsx)("td",{children:e.total_amount}),(0,s.jsx)("td",{children:e.transaction_count}),(0,s.jsxs)("td",{children:[e.percentage,"%"]})]},a))})]})})]})]})}),(0,s.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{className:"btn btn-info me-2",onClick:eC,disabled:$,children:$?"Analysing...":"Analyse"}),(0,s.jsx)("button",{className:"btn btn-primary",onClick:()=>b(!0),children:"Add Transaction"})]}),(0,s.jsx)("h2",{className:"mb-0",children:"Transactions"})]}),f&&(0,s.jsx)("div",{className:"alert alert-success",children:f}),d&&(0,s.jsx)("div",{children:"Loading..."}),h&&(0,s.jsx)("div",{className:"alert alert-danger",children:h}),!d&&!h&&(0,s.jsx)("div",{className:"table-responsive",children:(0,s.jsxs)("table",{className:"table table-bordered align-middle",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("th",{children:"Transaction ID"}),(0,s.jsx)("th",{children:"Account ID"}),(0,s.jsx)("th",{children:"Amount"}),(0,s.jsx)("th",{children:"Type"}),(0,s.jsx)("th",{children:"Description"}),(0,s.jsx)("th",{children:"Category"}),(0,s.jsx)("th",{children:"Merchant"}),(0,s.jsx)("th",{children:"Status"})]})}),(0,s.jsx)("tbody",{children:0===t.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:10,className:"text-center",children:"No transactions found."})}):t.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:new Date(e.date).toLocaleString()}),(0,s.jsx)("td",{children:e.transaction_id}),(0,s.jsx)("td",{children:e.account_id}),(0,s.jsxs)("td",{children:["debit"===e.transaction_type?"-":"+",e.amount.toLocaleString("en-IN")]}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"credit"===e.transaction_type?"badge bg-success":"badge bg-danger",children:e.transaction_type})}),(0,s.jsx)("td",{children:e.description}),(0,s.jsx)("td",{children:e.category}),(0,s.jsx)("td",{children:e.merchant_name}),(0,s.jsxs)("td",{children:[e.status,(0,s.jsx)("button",{className:"btn btn-link btn-sm ms-2",title:"View Details",onClick:()=>ek(e.id),children:(0,s.jsx)("span",{role:"img","aria-label":"info",children:"ℹ️"})}),(0,s.jsx)("button",{className:"btn btn-link btn-sm text-warning",title:"Edit Transaction",onClick:()=>ew(e),children:"✏️"}),(0,s.jsx)("button",{className:"btn btn-link btn-sm text-info",title:"Update Category",onClick:()=>eT(e),children:"\uD83C\uDFF7️"}),(0,s.jsx)("button",{className:"btn btn-link btn-sm text-danger",title:"Delete Transaction",onClick:()=>eF(e),children:"\uD83D\uDDD1️"})]})]},e.id))})]})}),x&&(0,s.jsx)("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.5)"},tabIndex:-1,role:"dialog",children:(0,s.jsx)("div",{className:"modal-dialog",role:"document",children:(0,s.jsxs)("form",{className:"modal-content",onSubmit:e_,children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h5",{className:"modal-title",children:"Add Transaction"}),(0,s.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:()=>b(!1),disabled:p})]}),(0,s.jsxs)("div",{className:"modal-body",children:[N&&(0,s.jsx)("div",{className:"alert alert-danger",children:N}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Account"}),(0,s.jsxs)("select",{className:"form-select",name:"account_id",value:j.account_id,onChange:ef,required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select Account"}),i.map(e=>(0,s.jsx)("option",{value:e.id,children:e.account_name},e.id))]})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Amount"}),(0,s.jsx)("input",{type:"number",className:"form-control",name:"amount",value:j.amount,onChange:ef,required:!0})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Transaction Type"}),(0,s.jsxs)("select",{className:"form-select",name:"transaction_type",value:j.transaction_type,onChange:ef,required:!0,children:[(0,s.jsx)("option",{value:"debit",children:"Debit"}),(0,s.jsx)("option",{value:"credit",children:"Credit"})]})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Description"}),(0,s.jsx)("input",{type:"text",className:"form-control",name:"description",value:j.description,onChange:ef,required:!0})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Original Description"}),(0,s.jsx)("input",{type:"text",className:"form-control",name:"original_description",value:j.original_description,onChange:ef})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Date"}),(0,s.jsx)("input",{type:"datetime-local",className:"form-control",name:"date",value:j.date,onChange:ef,required:!0})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Category"}),(0,s.jsx)("input",{type:"text",className:"form-control",name:"category",value:j.category,onChange:ef,required:!0})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Subcategory"}),(0,s.jsx)("input",{type:"text",className:"form-control",name:"subcategory",value:j.subcategory,onChange:ef})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Tags (comma separated)"}),(0,s.jsx)("input",{type:"text",className:"form-control",name:"tags",value:j.tags,onChange:ef})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Merchant Name"}),(0,s.jsx)("input",{type:"text",className:"form-control",name:"merchant_name",value:j.merchant_name,onChange:ef})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Merchant Category"}),(0,s.jsx)("input",{type:"text",className:"form-control",name:"merchant_category",value:j.merchant_category,onChange:ef})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Notes"}),(0,s.jsx)("textarea",{className:"form-control",name:"notes",value:j.notes,onChange:ef})]}),(0,s.jsxs)("div",{className:"mb-3 form-check",children:[(0,s.jsx)("input",{type:"checkbox",className:"form-check-input",name:"tax_relevant",checked:j.tax_relevant,onChange:ef}),(0,s.jsx)("label",{className:"form-check-label",children:"Tax Relevant"})]})]}),(0,s.jsxs)("div",{className:"modal-footer",children:[(0,s.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>b(!1),disabled:p,children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:p,children:p?"Adding...":"Add Transaction"})]})]})})}),x&&(0,s.jsx)("div",{className:"modal-backdrop fade show",style:{display:"block"}}),k&&(0,s.jsx)("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.5)"},tabIndex:-1,role:"dialog",children:(0,s.jsx)("div",{className:"modal-dialog modal-lg",role:"document",children:(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h5",{className:"modal-title",children:"Transaction Details"}),(0,s.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:()=>S(!1),disabled:C})]}),(0,s.jsxs)("div",{className:"modal-body",children:[C&&(0,s.jsx)("div",{children:"Loading..."}),D&&(0,s.jsx)("div",{className:"alert alert-danger",children:D}),A&&(0,s.jsx)("div",{children:(0,s.jsx)("table",{className:"table table-bordered",children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Amount"}),(0,s.jsx)("td",{children:A.amount})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Type"}),(0,s.jsx)("td",{children:A.transaction_type})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Description"}),(0,s.jsx)("td",{children:A.description})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("td",{children:new Date(A.date).toLocaleString()})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Category"}),(0,s.jsx)("td",{children:A.category})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Subcategory"}),(0,s.jsx)("td",{children:A.subcategory})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Tags"}),(0,s.jsx)("td",{children:Array.isArray(A.tags)?A.tags.join(", "):""})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Status"}),(0,s.jsx)("td",{children:A.status})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Notes"}),(0,s.jsx)("td",{children:A.notes})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Merchant"}),(0,s.jsxs)("td",{children:[null==(e=A.merchant)?void 0:e.name,(null==(a=A.merchant)?void 0:a.category)?" (".concat(A.merchant.category,")"):""]})]})]})})})]})]})})}),k&&(0,s.jsx)("div",{className:"modal-backdrop fade show",style:{display:"block"}}),V&&(0,s.jsx)("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.5)"},tabIndex:-1,role:"dialog",children:(0,s.jsx)("div",{className:"modal-dialog modal-lg",role:"document",children:(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h5",{className:"modal-title",children:"Spending Insights"}),(0,s.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:()=>W(!1),disabled:$})]}),(0,s.jsxs)("div",{className:"modal-body",children:[H&&(0,s.jsx)("div",{className:"alert alert-danger",children:H}),Q&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("strong",{children:"Summary:"}),(0,s.jsx)("div",{children:Q.summary})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("strong",{children:"Top Spending Categories:"}),(0,s.jsx)("div",{style:{maxWidth:400,margin:"0 auto"},children:(0,s.jsx)(r.nu,{data:{labels:Q.top_spending_categories.map(e=>e.category),datasets:[{data:Q.top_spending_categories.map(e=>e.amount),backgroundColor:["#36A2EB","#FF6384","#FFCE56","#4BC0C0","#9966FF"]}]}})}),(0,s.jsxs)("table",{className:"table table-bordered table-sm mt-3",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Category"}),(0,s.jsx)("th",{children:"Amount"}),(0,s.jsx)("th",{children:"Percentage"})]})}),(0,s.jsx)("tbody",{children:Q.top_spending_categories.map((e,a)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.category}),(0,s.jsx)("td",{children:e.amount}),(0,s.jsxs)("td",{children:[e.percentage.toFixed(2),"%"]})]},a))})]})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("strong",{children:"Period Comparison:"}),(0,s.jsxs)("div",{children:["Current Period Expenses:"," ",Q.period_comparison.current_period_expenses]}),(0,s.jsxs)("div",{children:["Previous Period Expenses:"," ",Q.period_comparison.previous_period_expenses]}),(0,s.jsxs)("div",{children:["Change:"," ",Q.period_comparison.change_percentage.toFixed(2),"%"]})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("strong",{children:"Recommendations:"}),(0,s.jsx)("ul",{children:Q.recommendations.map((e,a)=>(0,s.jsx)("li",{children:e},a))})]})]})]})]})})}),V&&(0,s.jsx)("div",{className:"modal-backdrop fade show",style:{display:"block"}}),Y&&(0,s.jsx)("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.5)"},tabIndex:-1,role:"dialog",children:(0,s.jsx)("div",{className:"modal-dialog",role:"document",children:(0,s.jsxs)("form",{className:"modal-content",onSubmit:eD,children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h5",{className:"modal-title",children:"Edit Transaction"}),(0,s.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:()=>Z(!1),disabled:et})]}),(0,s.jsxs)("div",{className:"modal-body",children:[en&&(0,s.jsx)("div",{className:"alert alert-danger",children:en}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Description"}),(0,s.jsx)("input",{type:"text",className:"form-control",value:ee.description,onChange:e=>ea({...ee,description:e.target.value}),required:!0})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Amount"}),(0,s.jsx)("input",{type:"number",className:"form-control",value:ee.amount,onChange:e=>ea({...ee,amount:e.target.value}),required:!0})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Tags (comma separated)"}),(0,s.jsx)("input",{type:"text",className:"form-control",value:ee.tags,onChange:e=>ea({...ee,tags:e.target.value})})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Notes"}),(0,s.jsx)("textarea",{className:"form-control",value:ee.notes,onChange:e=>ea({...ee,notes:e.target.value})})]}),(0,s.jsxs)("div",{className:"mb-3 form-check",children:[(0,s.jsx)("input",{type:"checkbox",className:"form-check-input",checked:ee.is_recurring,onChange:e=>ea({...ee,is_recurring:e.target.checked})}),(0,s.jsx)("label",{className:"form-check-label",children:"Recurring"})]})]}),(0,s.jsxs)("div",{className:"modal-footer",children:[(0,s.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>Z(!1),disabled:et,children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:et,children:et?"Saving...":"Save"})]})]})})}),Y&&(0,s.jsx)("div",{className:"modal-backdrop fade show",style:{display:"block"}}),er&&(0,s.jsx)("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.5)"},tabIndex:-1,role:"dialog",children:(0,s.jsx)("div",{className:"modal-dialog",role:"document",children:(0,s.jsxs)("form",{className:"modal-content",onSubmit:eA,children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h5",{className:"modal-title",children:"Update Category"}),(0,s.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:()=>ec(!1),disabled:ed})]}),(0,s.jsxs)("div",{className:"modal-body",children:[eh&&(0,s.jsx)("div",{className:"alert alert-danger",children:eh}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Category"}),(0,s.jsx)("input",{type:"text",className:"form-control",value:ei.category,onChange:e=>eo({...ei,category:e.target.value}),required:!0})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Subcategory"}),(0,s.jsx)("input",{type:"text",className:"form-control",value:ei.subcategory,onChange:e=>eo({...ei,subcategory:e.target.value})})]})]}),(0,s.jsxs)("div",{className:"modal-footer",children:[(0,s.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>ec(!1),disabled:ed,children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:ed,children:ed?"Saving...":"Save"})]})]})})}),er&&(0,s.jsx)("div",{className:"modal-backdrop fade show",style:{display:"block"}}),ex&&(0,s.jsx)("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.5)"},tabIndex:-1,role:"dialog",children:(0,s.jsx)("div",{className:"modal-dialog",role:"document",children:(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h5",{className:"modal-title",children:"Delete Transaction"}),(0,s.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:()=>eb(!1),disabled:ep})]}),(0,s.jsxs)("div",{className:"modal-body",children:[eN&&(0,s.jsx)("div",{className:"alert alert-danger",children:eN}),(0,s.jsx)("p",{children:"Are you sure you want to delete this transaction?"})]}),(0,s.jsxs)("div",{className:"modal-footer",children:[(0,s.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>eb(!1),disabled:ep,children:"Cancel"}),(0,s.jsx)("button",{type:"button",className:"btn btn-danger",onClick:eI,disabled:ep,children:ep?"Deleting...":"Delete"})]})]})})}),ex&&(0,s.jsx)("div",{className:"modal-backdrop fade show",style:{display:"block"}})]})}c.t1.register(c.Bs,c.m_,c.s$)}},e=>{var a=a=>e(e.s=a);e.O(0,[598,602,192,674,358],()=>a(2150)),_N_E=e.O()}]);