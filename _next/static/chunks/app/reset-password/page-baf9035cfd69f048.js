(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[700],{999:(e,s,r)=>{Promise.resolve().then(r.bind(r,1140))},1140:(e,s,r)=>{"use strict";r.d(s,{default:()=>n});var a=r(6001),t=r(9973),o=r(7915);function n(){let[e,s]=(0,t.useState)(""),[r,n]=(0,t.useState)(""),[c,i]=(0,t.useState)(""),[l,u]=(0,t.useState)(""),d=(0,o.useRouter)(),m=(0,o.useSearchParams)().get("token"),h=async s=>{if(s.preventDefault(),i(""),u(""),e!==r)return void i("Passwords do not match");if(!m)return void i("Invalid or missing reset token");try{let s=await fetch("".concat("https://travis-2d4m.onrender.com/api/v1","/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:m,new_password:e})}),r=await s.json();s.ok?(u("Password reset successfully. Redirecting to login..."),setTimeout(()=>d.push("/login"),3e3)):i(r.message||"An error occurred")}catch(e){i("Failed to connect to the server")}};return(0,a.jsxs)("form",{onSubmit:h,className:"card p-4",children:[c&&(0,a.jsx)("div",{className:"alert alert-danger",children:c}),l&&(0,a.jsx)("div",{className:"alert alert-success",children:l}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"password",className:"form-label",children:"New Password"}),(0,a.jsx)("input",{type:"password",className:"form-control",id:"password",value:e,onChange:e=>s(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),(0,a.jsx)("input",{type:"password",className:"form-control",id:"confirmPassword",value:r,onChange:e=>n(e.target.value),required:!0})]}),(0,a.jsx)("button",{type:"submit",className:"btn btn-primary w-100",children:"Reset Password"})]})}},7915:(e,s,r)=>{"use strict";var a=r(6867);r.o(a,"useRouter")&&r.d(s,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(s,{useSearchParams:function(){return a.useSearchParams}})}},e=>{var s=s=>e(e.s=s);e.O(0,[192,674,358],()=>s(999)),_N_E=e.O()}]);