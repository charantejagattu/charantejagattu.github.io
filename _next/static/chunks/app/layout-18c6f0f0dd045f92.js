(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{5937:()=>{},6583:(e,a,s)=>{Promise.resolve().then(s.t.bind(s,5937,23)),Promise.resolve().then(s.bind(s,6926))},6926:(e,a,s)=>{"use strict";s.d(a,{default:()=>o});var n=s(6001),l=s(7526),r=s.n(l),t=s(7915),i=s(9973),c=s(7523);function o(){let[e,a]=(0,i.useState)(!1),s=(0,t.useRouter)();return(0,i.useEffect)(()=>{let e=()=>{a(!!(0,c.iD)())};return e(),window.addEventListener("storage",e),window.addEventListener("authChanged",e),()=>{window.removeEventListener("storage",e),window.removeEventListener("authChanged",e)}},[]),(0,n.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)(r(),{className:"navbar-brand",href:"/",children:"Fintech AI"}),(0,n.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav",children:(0,n.jsx)("span",{className:"navbar-toggler-icon"})}),(0,n.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:(0,n.jsx)("ul",{className:"navbar-nav ms-auto",children:e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(r(),{className:"nav-link",href:"/dashboard",children:"Dashboard"})}),(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(r(),{className:"nav-link",href:"/profile",children:"Profile"})}),(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(r(),{className:"nav-link",href:"/accounts",children:"Accounts"})}),(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(r(),{className:"nav-link",href:"/aichat",children:"AI Chat"})}),(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(r(),{className:"nav-link",href:"/goals",children:"Goals"})}),(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(r(),{className:"nav-link",href:"/portfolios",children:"Portfolios"})}),(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(r(),{className:"nav-link",href:"/investments",children:"Investments"})}),(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(r(),{className:"nav-link",href:"/transactions",children:"Transactions"})}),(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)("button",{className:"nav-link btn",onClick:()=>{(0,c.zu)(),a(!1),window.dispatchEvent(new Event("authChanged")),s.push("/login")},children:"Logout"})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(r(),{className:"nav-link",href:"/login",children:"Login"})}),(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(r(),{className:"nav-link",href:"/register",children:"Register"})}),(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(r(),{className:"nav-link",href:"/forgot-password",children:"Forgot Password"})})]})})})]})})}},7523:(e,a,s)=>{"use strict";s.d(a,{J1:()=>i,h_:()=>n,iD:()=>l,zu:()=>t});let n=(e,a,s,n)=>{if(localStorage.setItem("accessToken",e),localStorage.setItem("refreshToken",a),localStorage.setItem("userId",s),n)n.email&&localStorage.setItem("userEmail",n.email),n.full_name&&localStorage.setItem("userFullName",n.full_name),n.expires_in&&localStorage.setItem("expiresIn",n.expires_in.toString()),n.token_type&&localStorage.setItem("tokenType",n.token_type);else{let a=function(e){try{return JSON.parse(atob(e.split(".")[1]))}catch(e){return null}}(e);a&&a.sub&&localStorage.setItem("userId",a.sub)}},l=()=>localStorage.getItem("accessToken"),r=()=>localStorage.getItem("refreshToken"),t=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")},i=async()=>{let e=r();if(!e)return null;try{let a=await fetch("".concat("https://travis-2d4m.onrender.com/api/v1","/api/v1/auth/refresh"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:e})});if(!a.ok)return t(),null;{let s=await a.json();return n(s.access_token,s.refresh_token||e,JSON.stringify({user_id:s.user_id,email:s.email,full_name:s.full_name,expires_in:s.expires_in,token_type:s.token_type})),s.access_token}}catch(e){return console.error("Error refreshing token:",e),t(),null}}}},e=>{var a=a=>e(e.s=a);e.O(0,[815,768,380,192,674,358],()=>a(6583)),_N_E=e.O()}]);