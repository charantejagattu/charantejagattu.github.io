(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{1447:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(6001),a=r(7526),l=r.n(a),n=r(7915),o=r(9973),c=r(7523);function i(){let e=(0,n.useRouter)();return(0,o.useEffect)(()=>{(0,c.iD)()||e.push("/login")},[e]),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"mb-4",children:"Dashboard"}),(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col-md-4",children:(0,s.jsx)("div",{className:"card",children:(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsx)("h5",{className:"card-title",children:"Accounts"}),(0,s.jsx)("p",{className:"card-text",children:"View and manage your accounts."}),(0,s.jsx)(l(),{href:"/accounts",className:"btn btn-primary",children:"Go to Accounts"})]})})})})]})}},3067:(e,t,r)=>{Promise.resolve().then(r.bind(r,1447))},7523:(e,t,r)=>{"use strict";r.d(t,{J1:()=>o,h_:()=>s,iD:()=>a,zu:()=>n});let s=(e,t,r,s)=>{if(localStorage.setItem("accessToken",e),localStorage.setItem("refreshToken",t),localStorage.setItem("userId",r),s)s.email&&localStorage.setItem("userEmail",s.email),s.full_name&&localStorage.setItem("userFullName",s.full_name),s.expires_in&&localStorage.setItem("expiresIn",s.expires_in.toString()),s.token_type&&localStorage.setItem("tokenType",s.token_type);else{let t=function(e){try{return JSON.parse(atob(e.split(".")[1]))}catch(e){return null}}(e);t&&t.sub&&localStorage.setItem("userId",t.sub)}},a=()=>localStorage.getItem("accessToken"),l=()=>localStorage.getItem("refreshToken"),n=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")},o=async()=>{let e=l();if(!e)return null;try{let t=await fetch("".concat("https://travis-2d4m.onrender.com/api/v1","/api/v1/auth/refresh"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:e})});if(!t.ok)return n(),null;{let r=await t.json();return s(r.access_token,r.refresh_token||e,JSON.stringify({user_id:r.user_id,email:r.email,full_name:r.full_name,expires_in:r.expires_in,token_type:r.token_type})),r.access_token}}catch(e){return console.error("Error refreshing token:",e),n(),null}}}},e=>{var t=t=>e(e.s=t);e.O(0,[380,192,674,358],()=>t(3067)),_N_E=e.O()}]);